<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="content-language" content="en">
    <meta name="language" content="en">
    <meta name="description"
        content="Reto Weber - programming, research, politics, books, religion, philosophy and science.">
    <meta name="author" content="Reto Weber">
    <meta name="keywords"
        content="Reto Weber, programming, research, politics, blog, books, religion, philosophy, science">
    <meta name="robots" content="index, follow">

    <!-- Open Graph (for rich previews on social platforms) -->
    <meta property="og:title" content="Acorn">
    <meta property="og:description"
        content="Reto Weber - programming, research, politics, books, religion, philosophy and science. []">
    <meta property="og:type"
        content="website">
    <meta property="og:url" content="/assets/background-generator/node_modules/acorn/">
    <meta property="og:site_name" content="Reto Weber">
    <meta property="og:image" content="/output.png">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Acorn">
    <meta name="twitter:description"
        content="Reto Weber - programming, research, politics, books, religion, philosophy and science. []">
    <meta name="twitter:image" content="/output.png">

    <!-- JSON-LD Structured Data for rich results -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "/assets/background-generator/node_modules/acorn/"
      },
      "headline": "Acorn",
      "description": "Reto Weber - programming, research, politics, books, religion, philosophy and science. []",
      "author": {
        "@type": "Person",
        "name": "Reto Weber"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Reto Weber",
        "logo": {
          "@type": "ImageObject",
          "url": "../../../../favicon.ico"
        }
      }
    }
    </script>

    <title>Acorn - Reto Weber</title>
    
    <link href="../../../rss-feed.css" rel="stylesheet">

    </noscript>


    <link rel="stylesheet" href="../../../../style.css">
    <link rel="preload" href="/fonts/inter.woff2" as="font" type="font/woff2" crossorigin fetchpriority="high">
    <link rel="preload" href="/fonts/gidole.woff2" as="font" type="font/woff2" crossorigin fetchpriority="high">
    <style type="text/css">
        @font-face {
            font-family: 'Gidole';
            src: url('/fonts/gidole.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }

        @font-face {
            font-family: 'Inter';
            src: url('/fonts/inter.woff2') format('woff2');
            font-weight: 400;
            font-style: normal;
            font-display: swap;
        }

        @font-face {
            font-family: 'Inter';
            src: url('/fonts/inter.woff2') format('woff2');
            font-weight: 700;
            font-style: normal;
            font-display: swap;
        }
    </style>


    <link rel="icon" type="image/svg+xml" href="../../../../favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    
    
    
    
    
    
    
    
    
    
    
    <header class="site-header">
        <div class="site-title">
            <h1 class="">
                <a href="/index.html">Reto Weber</a>
            </h1>
        </div>
        
        <ul class="main-nav">
            
            
            
            
            <li class="nav-parent ">
                <a href="../../../../programming/buchfaltstudio/">Programming</a>
                <ul class="nav-dropdown">
                    
                    <li class="">
                        <a href="../../../../programming/buchfaltstudio/">Book folding studio</a>
                    </li>
                    
                    <li class="">
                        <a href="../../../../programming/background-generator/">Background Generator</a>
                    </li>
                    
                </ul>
            </li>
            
            
            
            
            
            <li class="nav-parent ">
                <a href="../../../../research/hoare-logic/">Research</a>
                <ul class="nav-dropdown">
                    
                    <li class="">
                        <a href="../../../../research/hoare-logic/">Hoare Logic</a>
                    </li>
                    
                </ul>
            </li>
            
            
            
            
            
            <li class="nav-parent ">
                <a href="../../../../politik/finanzen-beringen/">Politics</a>
                <ul class="nav-dropdown">
                    
                    <li class="">
                        <a href="../../../../politik/finanzen-beringen/">Finances Beringen</a>
                    </li>
                    
                </ul>
            </li>
            
            
            
            
            
            <li class="nav-parent ">
                <a href="../../../../blog/thoughts/">Blog</a>
                <ul class="nav-dropdown">
                    
                    <li class="">
                        <a href="../../../../blog/thoughts/">Thoughts</a>
                    </li>
                    
                    <li class="">
                        <a href="../../../../blog/philosophy/">Philosophy</a>
                    </li>
                    
                    <li class="">
                        <a href="../../../../blog/science/">Science</a>
                    </li>
                    
                </ul>
            </li>
            
            
            
            
            
            <li class="nav-parent ">
                <a href="../../../../book/the-book/">Book</a>
                <ul class="nav-dropdown">
                    
                    <li class="">
                        <a href="../../../../book/the-book/">The Book</a>
                    </li>
                    
                    <li class="">
                        <a href="../../../../book/influential-books/">Influential Books</a>
                    </li>
                    
                    <li class="">
                        <a href="../../../../book/lessons-from-my-book/">Lessons from My Book</a>
                    </li>
                    
                </ul>
            </li>
            
            
        </ul>
        
        
        <nav class="language-switcher" aria-label="Language selector">
            
            
            
            
            
            
            <a href="./" class="active">English</a>
            
            
            
            
            
            
            
            <a href="../../../../de/assets/background-generator/node_modules/acorn/" class="">Deutsch</a>
            
            
        </nav>
        
        <form class="search-form" role="search">
            <input type="search" id="mkdocs-search-query" name="q" placeholder="Search..." autocomplete="off">
        </form>
        <a href="https://forms.gle/VBaJXfvzMupony487" target="_blank" class="feedback-button">
            Feedback
        </a>
    </header>
    <div id="main-container">
        <div class="toc-container">
            <ul class="toc-list empty">
                
            </ul>
        </div>
        <div class="content">
            
            <h1 id="acorn">Acorn</h1>
<p>A tiny, fast JavaScript parser written in JavaScript.</p>
<h2 id="community">Community</h2>
<p>Acorn is open source software released under an
<a href="https://github.com/acornjs/acorn/blob/master/acorn/LICENSE">MIT license</a>.</p>
<p>You are welcome to
<a href="https://github.com/acornjs/acorn/issues">report bugs</a> or create pull
requests on <a href="https://github.com/acornjs/acorn">github</a>.</p>
<h2 id="installation">Installation</h2>
<p>The easiest way to install acorn is from <a href="https://www.npmjs.com/"><code>npm</code></a>:</p>
<pre><code class="language-sh">npm install acorn
</code></pre>
<p>Alternately, you can download the source and build acorn yourself:</p>
<pre><code class="language-sh">git clone https://github.com/acornjs/acorn.git
cd acorn
npm install
</code></pre>
<h2 id="interface">Interface</h2>
<p><strong>parse</strong><code>(input, options)</code> is the main interface to the library. The
<code>input</code> parameter is a string, <code>options</code> must be an object setting
some of the options listed below. The return value will be an abstract
syntax tree object as specified by the <a href="https://github.com/estree/estree">ESTree
spec</a>.</p>
<pre><code class="language-javascript">let acorn = require(&quot;acorn&quot;);
console.log(acorn.parse(&quot;1 + 1&quot;, {ecmaVersion: 2020}));
</code></pre>
<p>When encountering a syntax error, the parser will raise a
<code>SyntaxError</code> object with a meaningful message. The error object will
have a <code>pos</code> property that indicates the string offset at which the
error occurred, and a <code>loc</code> object that contains a <code>{line, column}</code>
object referring to that same position.</p>
<p>Options are provided by in a second argument, which should be an
object containing any of these fields (only <code>ecmaVersion</code> is
required):</p>
<ul>
<li><strong>ecmaVersion</strong>: Indicates the ECMAScript version to parse. Can be a
  number, either in year (<code>2022</code>) or plain version number (<code>6</code>) form,
  or <code>"latest"</code> (the latest the library supports). This influences
  support for strict mode, the set of reserved words, and support for
  new syntax features.</li>
</ul>
<p><strong>NOTE</strong>: Only 'stage 4' (finalized) ECMAScript features are being
  implemented by Acorn. Other proposed new features must be
  implemented through plugins.</p>
<ul>
<li><strong>sourceType</strong>: Indicate the mode the code should be parsed in. Can be
  either <code>"script"</code> or <code>"module"</code>. This influences global strict mode
  and parsing of <code>import</code> and <code>export</code> declarations.</li>
</ul>
<p><strong>NOTE</strong>: If set to <code>"module"</code>, then static <code>import</code> / <code>export</code> syntax
  will be valid, even if <code>ecmaVersion</code> is less than 6.</p>
<ul>
<li>
<p><strong>onInsertedSemicolon</strong>: If given a callback, that callback will be
  called whenever a missing semicolon is inserted by the parser. The
  callback will be given the character offset of the point where the
  semicolon is inserted as argument, and if <code>locations</code> is on, also a
  <code>{line, column}</code> object representing this position.</p>
</li>
<li>
<p><strong>onTrailingComma</strong>: Like <code>onInsertedSemicolon</code>, but for trailing
  commas.</p>
</li>
<li>
<p><strong>allowReserved</strong>: If <code>false</code>, using a reserved word will generate
  an error. Defaults to <code>true</code> for <code>ecmaVersion</code> 3, <code>false</code> for higher
  versions. When given the value <code>"never"</code>, reserved words and
  keywords can also not be used as property names (as in Internet
  Explorer's old parser).</p>
</li>
<li>
<p><strong>allowReturnOutsideFunction</strong>: By default, a return statement at
  the top level raises an error. Set this to <code>true</code> to accept such
  code.</p>
</li>
<li>
<p><strong>allowImportExportEverywhere</strong>: By default, <code>import</code> and <code>export</code>
  declarations can only appear at a program's top level. Setting this
  option to <code>true</code> allows them anywhere where a statement is allowed,
  and also allows <code>import.meta</code> expressions to appear in scripts
  (when <code>sourceType</code> is not <code>"module"</code>).</p>
</li>
<li>
<p><strong>allowAwaitOutsideFunction</strong>: If <code>false</code>, <code>await</code> expressions can
  only appear inside <code>async</code> functions. Defaults to <code>true</code> in modules
  for <code>ecmaVersion</code> 2022 and later, <code>false</code> for lower versions.
  Setting this option to <code>true</code> allows to have top-level <code>await</code>
  expressions. They are still not allowed in non-<code>async</code> functions,
  though.</p>
</li>
<li>
<p><strong>allowSuperOutsideMethod</strong>: By default, <code>super</code> outside a method
  raises an error. Set this to <code>true</code> to accept such code.</p>
</li>
<li>
<p><strong>allowHashBang</strong>: When this is enabled, if the code starts with the
  characters <code>#!</code> (as in a shellscript), the first line will be
  treated as a comment. Defaults to true when <code>ecmaVersion</code> &gt;= 2023.</p>
</li>
<li>
<p><strong>checkPrivateFields</strong>: By default, the parser will verify that
  private properties are only used in places where they are valid and
  have been declared. Set this to false to turn such checks off.</p>
</li>
<li>
<p><strong>locations</strong>: When <code>true</code>, each node has a <code>loc</code> object attached
  with <code>start</code> and <code>end</code> subobjects, each of which contains the
  one-based line and zero-based column numbers in <code>{line, column}</code>
  form. Default is <code>false</code>.</p>
</li>
<li>
<p><strong>onToken</strong>: If a function is passed for this option, each found
  token will be passed in same format as tokens returned from
  <code>tokenizer().getToken()</code>.</p>
</li>
</ul>
<p>If array is passed, each found token is pushed to it.</p>
<p>Note that you are not allowed to call the parser from the
  callback—that will corrupt its internal state.</p>
<ul>
<li>
<p><strong>onComment</strong>: If a function is passed for this option, whenever a
  comment is encountered the function will be called with the
  following parameters:</p>
</li>
<li>
<p><code>block</code>: <code>true</code> if the comment is a block comment, false if it
    is a line comment.</p>
</li>
<li><code>text</code>: The content of the comment.</li>
<li><code>start</code>: Character offset of the start of the comment.</li>
<li><code>end</code>: Character offset of the end of the comment.</li>
</ul>
<p>When the <code>locations</code> options is on, the <code>{line, column}</code> locations
  of the comment’s start and end are passed as two additional
  parameters.</p>
<p>If array is passed for this option, each found comment is pushed
  to it as object in Esprima format:</p>
<p><code>javascript
  {
    "type": "Line" | "Block",
    "value": "comment text",
    "start": Number,
    "end": Number,
    // If `locations` option is on:
    "loc": {
      "start": {line: Number, column: Number}
      "end": {line: Number, column: Number}
    },
    // If `ranges` option is on:
    "range": [Number, Number]
  }</code></p>
<p>Note that you are not allowed to call the parser from the
  callback—that will corrupt its internal state.</p>
<ul>
<li>
<p><strong>ranges</strong>: Nodes have their start and end characters offsets
  recorded in <code>start</code> and <code>end</code> properties (directly on the node,
  rather than the <code>loc</code> object, which holds line/column data. To also
  add a
  <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=745678">semi-standardized</a>
  <code>range</code> property holding a <code>[start, end]</code> array with the same
  numbers, set the <code>ranges</code> option to <code>true</code>.</p>
</li>
<li>
<p><strong>program</strong>: It is possible to parse multiple files into a single
  AST by passing the tree produced by parsing the first file as the
  <code>program</code> option in subsequent parses. This will add the toplevel
  forms of the parsed file to the "Program" (top) node of an existing
  parse tree.</p>
</li>
<li>
<p><strong>sourceFile</strong>: When the <code>locations</code> option is <code>true</code>, you can pass
  this option to add a <code>source</code> attribute in every node’s <code>loc</code>
  object. Note that the contents of this option are not examined or
  processed in any way; you are free to use whatever format you
  choose.</p>
</li>
<li>
<p><strong>directSourceFile</strong>: Like <code>sourceFile</code>, but a <code>sourceFile</code> property
  will be added (regardless of the <code>location</code> option) directly to the
  nodes, rather than the <code>loc</code> object.</p>
</li>
<li>
<p><strong>preserveParens</strong>: If this option is <code>true</code>, parenthesized expressions
  are represented by (non-standard) <code>ParenthesizedExpression</code> nodes
  that have a single <code>expression</code> property containing the expression
  inside parentheses.</p>
</li>
</ul>
<p><strong>parseExpressionAt</strong><code>(input, offset, options)</code> will parse a single
expression in a string, and return its AST. It will not complain if
there is more of the string left after the expression.</p>
<p><strong>tokenizer</strong><code>(input, options)</code> returns an object with a <code>getToken</code>
method that can be called repeatedly to get the next token, a <code>{start,
end, type, value}</code> object (with added <code>loc</code> property when the
<code>locations</code> option is enabled and <code>range</code> property when the <code>ranges</code>
option is enabled). When the token's type is <code>tokTypes.eof</code>, you
should stop calling the method, since it will keep returning that same
token forever.</p>
<p>Note that tokenizing JavaScript without parsing it is, in modern
versions of the language, not really possible due to the way syntax is
overloaded in ways that can only be disambiguated by the parse
context. This package applies a bunch of heuristics to try and do a
reasonable job, but you are advised to use <code>parse</code> with the <code>onToken</code>
option instead of this.</p>
<p>In ES6 environment, returned result can be used as any other
protocol-compliant iterable:</p>
<pre><code class="language-javascript">for (let token of acorn.tokenizer(str)) {
  // iterate over the tokens
}

// transform code to array of tokens:
var tokens = [...acorn.tokenizer(str)];
</code></pre>
<p><strong>tokTypes</strong> holds an object mapping names to the token type objects
that end up in the <code>type</code> properties of tokens.</p>
<p><strong>getLineInfo</strong><code>(input, offset)</code> can be used to get a <code>{line,
column}</code> object for a given program string and offset.</p>
<h3 id="the-parser-class">The <code>Parser</code> class</h3>
<p>Instances of the <strong><code>Parser</code></strong> class contain all the state and logic
that drives a parse. It has static methods <code>parse</code>,
<code>parseExpressionAt</code>, and <code>tokenizer</code> that match the top-level
functions by the same name.</p>
<p>When extending the parser with plugins, you need to call these methods
on the extended version of the class. To extend a parser with plugins,
you can use its static <code>extend</code> method.</p>
<pre><code class="language-javascript">var acorn = require(&quot;acorn&quot;);
var jsx = require(&quot;acorn-jsx&quot;);
var JSXParser = acorn.Parser.extend(jsx());
JSXParser.parse(&quot;foo(&lt;bar/&gt;)&quot;, {ecmaVersion: 2020});
</code></pre>
<p>The <code>extend</code> method takes any number of plugin values, and returns a
new <code>Parser</code> class that includes the extra parser logic provided by
the plugins.</p>
<h2 id="command-line-interface">Command line interface</h2>
<p>The <code>bin/acorn</code> utility can be used to parse a file from the command
line. It accepts as arguments its input file and the following
options:</p>
<ul>
<li>
<p><code>--ecma3|--ecma5|--ecma6|--ecma7|--ecma8|--ecma9|--ecma10</code>: Sets the ECMAScript version
  to parse. Default is version 9.</p>
</li>
<li>
<p><code>--module</code>: Sets the parsing mode to <code>"module"</code>. Is set to <code>"script"</code> otherwise.</p>
</li>
<li>
<p><code>--locations</code>: Attaches a "loc" object to each node with "start" and
  "end" subobjects, each of which contains the one-based line and
  zero-based column numbers in <code>{line, column}</code> form.</p>
</li>
<li>
<p><code>--allow-hash-bang</code>: If the code starts with the characters #! (as
  in a shellscript), the first line will be treated as a comment.</p>
</li>
<li>
<p><code>--allow-await-outside-function</code>: Allows top-level <code>await</code> expressions.
  See the <code>allowAwaitOutsideFunction</code> option for more information.</p>
</li>
<li>
<p><code>--compact</code>: No whitespace is used in the AST output.</p>
</li>
<li>
<p><code>--silent</code>: Do not output the AST, just return the exit status.</p>
</li>
<li>
<p><code>--help</code>: Print the usage information and quit.</p>
</li>
</ul>
<p>The utility spits out the syntax tree as JSON data.</p>
<h2 id="existing-plugins">Existing plugins</h2>
<ul>
<li><a href="https://github.com/RReverser/acorn-jsx"><code>acorn-jsx</code></a>: Parse <a href="https://github.com/facebook/jsx">Facebook JSX syntax extensions</a></li>
</ul>
        </div>
    </div>
    <div id="mkdocs-search-popup">
        <button id="close-search-popup">&times;</button>
        <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
    </div>
    <a id="github-badge" href="https://github.com/risajef/risajef.github.io" target="_blank" 
        title="View source or create issues on GitHub">
        <svg viewBox="0 0 16 16" width="20" height="20" aria-hidden="true">
            <path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
        </svg>
        <span>GitHub</span>
    </a>
    <a id="simple-analytics-badge"
        href="https://dashboard.simpleanalytics.com/retoweber.info?utm_source=retoweber.info&utm_content=badge&affiliate=woruk-rob"
        referrerpolicy="origin" target="_blank">
        <picture>
            <source srcset="https://simpleanalyticsbadges.com/retoweber.info?mode=dark"
                media="(prefers-color-scheme: dark)" /><img
                src="https://simpleanalyticsbadges.com/retoweber.info?mode=light" loading="lazy"
                referrerpolicy="no-referrer" crossorigin="anonymous" />
        </picture>
    </a>

    <script>
        function updateTocCollapse() {
            var toc = document.querySelector('.toc-list');
            if (!toc) return;
            if (window.innerWidth <= 900) {
                toc.classList.add('collapsed');
            } else {
                toc.classList.remove('collapsed');
            }
        }
        window.addEventListener('resize', updateTocCollapse);
        document.addEventListener('DOMContentLoaded', updateTocCollapse);
    </script>
    <script>
        var base_url = "../../../..";
    </script>
    <script>
        // Show popup when search input is focused or typed in
        const searchInput = document.getElementById('mkdocs-search-query');
        const popup = document.getElementById('mkdocs-search-popup');
        const closeBtn = document.getElementById('close-search-popup');
        if (searchInput && popup && closeBtn) {
            searchInput.addEventListener('focus', () => { popup.style.display = 'block'; });
            searchInput.addEventListener('input', () => { popup.style.display = 'block'; });
            closeBtn.addEventListener('click', () => { popup.style.display = 'none'; });
            // Optional: hide popup when clicking outside
            document.addEventListener('mousedown', function (event) {
                if (popup.style.display === 'block' && !popup.contains(event.target) && event.target !== searchInput) {
                    popup.style.display = 'none';
                }
            });
        }
    </script>
    <script>
        (function () {
            function isExternalLink(anchor) {
                try {
                    var url = new URL(anchor.href, location.href);
                    return url.protocol.indexOf('http') === 0 && url.hostname !== location.hostname;
                } catch (e) {
                    return false;
                }
            }

            document.addEventListener('DOMContentLoaded', function () {
                var anchors = document.querySelectorAll('a[href]');
                anchors.forEach(function (a) {
                    // ignore anchors, mailto, tel, javascript:, and already-handled targets
                    var href = a.getAttribute('href') || '';
                    if (!href || href.indexOf('#') === 0 || href.indexOf('mailto:') === 0 || href.indexOf('tel:') === 0 || href.indexOf('javascript:') === 0) return;
                    if (isExternalLink(a)) {
                        a.setAttribute('target', '_blank');
                        // ensure security
                        var rel = (a.getAttribute('rel') || '').split(/\s+/).filter(Boolean);
                        if (rel.indexOf('noopener') === -1) rel.push('noopener');
                        if (rel.indexOf('noreferrer') === -1) rel.push('noreferrer');
                        a.setAttribute('rel', rel.join(' '));
                        // add class for styling
                        a.classList.add('external-link');
                    }
                });
            });
        })();
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="../../../rss-feed.js"></script>
    <script src="../../../../search/main.js"></script>
    <!-- 100% privacy-first analytics -->
    <script data-collect-dnt="true" async src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
    <noscript><img src="https://queue.simpleanalyticscdn.com/noscript.gif?collect-dnt=true" alt=""
            referrerpolicy="no-referrer-when-downgrade" /></noscript>
</body>

</html>